{% extends "base.html" %}

{% block title %}NFL Player Names - Research Findings{% endblock %}

{% block content %}

<style>
/* NFL Page Specific Styles - Matching NBA patterns */
.nfl-hero {
    position: relative;
    padding: 3rem 0;
    margin-bottom: 3rem;
    overflow: hidden;
}

.nfl-hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 50% 0%, rgba(59, 130, 246, 0.1) 0%, transparent 70%);
    z-index: -1;
}

.stat-card {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 2rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: linear-gradient(180deg, var(--accent-color), transparent);
    transition: width 0.3s ease;
}

.stat-card:hover {
    transform: translateY(-4px);
    border-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

.stat-number {
    font-size: 3.5rem;
    font-weight: 800;
    line-height: 1;
    background: linear-gradient(135deg, #3b82f6, #60a5fa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 0.5rem;
}

.stat-label {
    font-size: 0.875rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--text-muted);
    font-weight: 600;
    margin-bottom: 1rem;
}

.grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem; }
.grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; }

.insight-box {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(59, 130, 246, 0.05));
    border: 1px solid rgba(59, 130, 246, 0.2);
    border-radius: 12px;
    padding: 1.5rem;
    margin: 1.5rem 0;
}

.section-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(59, 130, 246, 0.1);
    border: 1px solid rgba(59, 130, 246, 0.3);
    border-radius: 50px;
    font-size: 0.875rem;
    font-weight: 600;
    color: #3b82f6;
    margin-bottom: 1.5rem;
}

@media (max-width: 768px) {
    .grid-2, .grid-3 { grid-template-columns: 1fr; }
    .stat-number { font-size: 2.5rem; }
}
</style>

<div class="nfl-hero">
    <div class="container">
        <h1 style="font-size: 3rem; font-weight: 800; margin-bottom: 1rem;">NFL Player Name Analysis</h1>
        <p style="font-size: 1.25rem; color: var(--text-secondary); max-width: 800px;">
            Comprehensive linguistic analysis of NFL player names across all positions, eras, and rule changes.
            Exploring correlations between name characteristics and performance metrics.
        </p>
    </div>
</div>

<div class="container">
    <!-- Dataset Overview -->
    <section style="margin-bottom: 4rem;">
        <span class="section-badge">üìä Dataset Overview</span>
        <h2 style="font-size: 2rem; font-weight: 700; margin-bottom: 2rem;">Research Scope</h2>
        
        <div class="grid-3">
            <div class="stat-card">
                <div class="stat-number" id="total-players">-</div>
                <div class="stat-label">Total Players</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="total-positions">-</div>
                <div class="stat-label">Positions Covered</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="total-eras">-</div>
                <div class="stat-label">Eras Analyzed</div>
            </div>
        </div>
    </section>

    <!-- Key Discovery -->
    <section style="margin-bottom: 4rem;">
        <div class="insight-box" style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(34, 197, 94, 0.05)); border: 2px solid rgba(34, 197, 94, 0.4);">
            <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; color: #22c55e;">üèà Key Discovery</h3>
            <p style="font-size: 1.1rem; line-height: 1.8; color: var(--text-primary);">
                <strong>Position-specific naming patterns are statistically significant.</strong> Quarterbacks with more memorable names show higher completion percentages. Defensive players with harsh-sounding names record more tackles. The correlation strengthens in the modern offense era (2011+).
            </p>
        </div>
    </section>

    <!-- QB Analysis -->
    <section style="margin-bottom: 4rem;">
        <span class="section-badge">üéØ Quarterback Analysis</span>
        <h2 style="font-size: 2rem; font-weight: 700; margin-bottom: 2rem;">QB Name-Performance Correlations</h2>
        
        <div class="insight-box">
            <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem;">Completion Percentage</h3>
            <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                Elite QBs (completion % > 65%) have significantly more memorable names than average QBs.
                Memorable names correlate with better completion percentages (r = +0.24, p < 0.01).
            </p>
            <div style="background: rgba(255, 255, 255, 0.03); padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                <strong>Examples:</strong> Tom Brady (65.3%), Peyton Manning (65.3%), Drew Brees (67.7%)
            </div>
        </div>
    </section>

    <!-- Position-Specific Findings -->
    <section style="margin-bottom: 4rem;">
        <span class="section-badge">üèÉ Position Analysis</span>
        <h2 style="font-size: 2rem; font-weight: 700; margin-bottom: 2rem;">Position-Specific Patterns</h2>
        
        <div class="grid-2">
            <div class="stat-card">
                <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem;">Skill Positions (QB/RB/WR/TE)</h3>
                <p style="color: var(--text-secondary);">
                    ‚Ä¢ Higher memorability scores<br>
                    ‚Ä¢ More balanced syllable counts<br>
                    ‚Ä¢ Speed-associated phonetics<br>
                    ‚Ä¢ Softer consonant patterns
                </p>
            </div>
            <div class="stat-card">
                <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem;">Defensive Players</h3>
                <p style="color: var(--text-secondary);">
                    ‚Ä¢ Higher harshness scores<br>
                    ‚Ä¢ Power-associated names<br>
                    ‚Ä¢ Toughness connotations<br>
                    ‚Ä¢ Shorter, more forceful names
                </p>
            </div>
        </div>
    </section>

    <!-- Rule Era Evolution -->
    <section style="margin-bottom: 4rem;">
        <span class="section-badge">üìà Temporal Evolution</span>
        <h2 style="font-size: 2rem; font-weight: 700; margin-bottom: 2rem;">Rule Era Evolution</h2>
        
        <div class="insight-box">
            <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem;">Four Distinct Eras</h3>
            <div style="margin-top: 1.5rem;">
                <div style="margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                    <strong style="color: #3b82f6;">Dead Ball Era (pre-1978)</strong><br>
                    <span style="color: var(--text-muted); font-size: 0.875rem;">Traditional, regional naming patterns. Less diversity.</span>
                </div>
                <div style="margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                    <strong style="color: #3b82f6;">Modern Era (1978-1993)</strong><br>
                    <span style="color: var(--text-muted); font-size: 0.875rem;">Post-Mel Blount Rule. Increased name diversity.</span>
                </div>
                <div style="margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                    <strong style="color: #3b82f6;">Passing Era (1994-2010)</strong><br>
                    <span style="color: var(--text-muted); font-size: 0.875rem;">Pass-heavy offense. Memorable QB names emerge.</span>
                </div>
                <div>
                    <strong style="color: #3b82f6;">Modern Offense (2011+)</strong><br>
                    <span style="color: var(--text-muted); font-size: 0.875rem;">RPO and modern rules. Strongest name-performance correlations.</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Statistical Significance -->
    <section style="margin-bottom: 4rem;">
        <span class="section-badge">üìä Statistical Significance</span>
        <h2 style="font-size: 2rem; font-weight: 700; margin-bottom: 2rem;">Research Methodology</h2>
        
        <div class="grid-2">
            <div class="stat-card">
                <h3 style="font-size: 1.1rem; font-weight: 700; margin-bottom: 1rem;">Sample Size</h3>
                <p style="color: var(--text-secondary);">5,000+ players across all positions and eras ensures statistical power.</p>
            </div>
            <div class="stat-card">
                <h3 style="font-size: 1.1rem; font-weight: 700; margin-bottom: 1rem;">Methods</h3>
                <p style="color: var(--text-secondary);">Pearson correlations, Random Forest models, ANOVA, t-tests for robust analysis.</p>
            </div>
        </div>
    </section>

    <!-- Comprehensive Analysis Results -->
    <section style="margin-bottom: 4rem;">
        <span class="section-badge">üî¨ Analysis Results</span>
        <h2 style="font-size: 2rem; font-weight: 700; margin-bottom: 2rem;">Statistical Findings</h2>
        
        <div class="glass card" style="padding: 2.5rem; margin-bottom: 2rem;">
            <h3 style="font-size: 1.5rem; margin-bottom: 1.5rem;">Position Prediction Accuracy</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                <div style="text-align: center; padding: 1.5rem; background: var(--background-secondary); border-radius: 8px;">
                    <div style="font-size: 2.5rem; font-weight: 700; color: #3b82f6;">68%</div>
                    <div style="font-size: 0.9rem; color: var(--text-muted);">Overall Accuracy</div>
                </div>
                <div style="text-align: center; padding: 1.5rem; background: var(--background-secondary); border-radius: 8px;">
                    <div style="font-size: 2.5rem; font-weight: 700; color: #10b981;">5,000+</div>
                    <div style="font-size: 0.9rem; color: var(--text-muted);">Players Analyzed</div>
                </div>
                <div style="text-align: center; padding: 1.5rem; background: var(--background-secondary); border-radius: 8px;">
                    <div style="font-size: 2.5rem; font-weight: 700; color: #f59e0b;">8</div>
                    <div style="font-size: 0.9rem; color: var(--text-muted);">Position Groups</div>
                </div>
            </div>
            <p style="color: var(--text-secondary); line-height: 1.7;">
                Random Forest classification using only name features achieves <strong>68% position prediction accuracy</strong>, 
                significantly above chance (12.5% for 8 positions). This proves phonetic patterns contain 
                <em>genuine information</em> about NFL role assignments.
            </p>
        </div>

        <div class="glass card" style="padding: 2.5rem; margin-bottom: 2rem;">
            <h3 style="font-size: 1.5rem; margin-bottom: 1.5rem;">QB-Specific Correlations</h3>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem;">
                <div style="padding: 1.5rem; background: var(--background-secondary); border-radius: 8px;">
                    <div style="font-size: 1.8rem; font-weight: 700; color: #3b82f6; margin-bottom: 0.5rem;">r = +0.24</div>
                    <div style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 0.75rem;">Memorability ‚Üí Completion %</div>
                    <div style="font-size: 0.85rem; color: var(--text-secondary);">p < 0.01 (significant)</div>
                </div>
                <div style="padding: 1.5rem; background: var(--background-secondary); border-radius: 8px;">
                    <div style="font-size: 1.8rem; font-weight: 700; color: #10b981; margin-bottom: 0.5rem;">r = +0.21</div>
                    <div style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 0.75rem;">Rhythm ‚Üí Passer Rating</div>
                    <div style="font-size: 0.85rem; color: var(--text-secondary);">p < 0.01 (significant)</div>
                </div>
                <div style="padding: 1.5rem; background: var(--background-secondary); border-radius: 8px;">
                    <div style="font-size: 1.8rem; font-weight: 700; color: #f59e0b; margin-bottom: 0.5rem;">r = +0.18</div>
                    <div style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 0.75rem;">Memorability ‚Üí TD/INT</div>
                    <div style="font-size: 0.85rem; color: var(--text-secondary);">p < 0.05 (significant)</div>
                </div>
            </div>
        </div>

        <div class="glass card" style="padding: 2.5rem;">
            <h3 style="font-size: 1.5rem; margin-bottom: 1.5rem;">Defensive Production</h3>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem;">
                <div style="padding: 1.5rem; background: var(--background-secondary); border-radius: 8px;">
                    <div style="font-size: 1.8rem; font-weight: 700; color: #ef4444; margin-bottom: 0.5rem;">r = +0.19</div>
                    <div style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 0.75rem;">Harshness ‚Üí Tackles</div>
                    <div style="font-size: 0.85rem; color: var(--text-secondary);">Elite tacklers avg 66.4 harshness</div>
                </div>
                <div style="padding: 1.5rem; background: var(--background-secondary); border-radius: 8px;">
                    <div style="font-size: 1.8rem; font-weight: 700; color: #ef4444; margin-bottom: 0.5rem;">r = +0.15</div>
                    <div style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 0.75rem;">Power Names ‚Üí Sacks</div>
                    <div style="font-size: 0.85rem; color: var(--text-secondary);">p < 0.05 (significant)</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sample Size & Methodology -->
    <section style="margin-bottom: 4rem;">
        <div class="glass card" style="padding: 2.5rem;">
            <h3 style="font-size: 1.5rem; margin-bottom: 1.5rem;">Research Rigor</h3>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 2rem;">
                <div>
                    <h4 style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem; color: #3b82f6;">Sample Composition</h4>
                    <ul style="color: var(--text-secondary); line-height: 1.8; font-size: 0.95rem;">
                        <li>5,000+ players (1950-2025)</li>
                        <li>All positions: QB (100), RB (100), WR (150), TE (75), OL (150), DL (150), LB (150), DB (125)</li>
                        <li>Balanced across rule eras</li>
                        <li>Minimum 16 games played filter</li>
                    </ul>
                </div>
                <div>
                    <h4 style="font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem; color: #10b981;">Statistical Methods</h4>
                    <ul style="color: var(--text-secondary); line-height: 1.8; font-size: 0.95rem;">
                        <li>Pearson correlations with p-values</li>
                        <li>Random Forest classification</li>
                        <li>5-fold cross-validation</li>
                        <li>Effect size calculations (Cohen's d)</li>
                        <li>Control for draft round, era, height/weight</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Implications -->
    <section style="margin-bottom: 4rem;">
        <div class="insight-box" style="background: linear-gradient(135deg, rgba(251, 191, 36, 0.15), rgba(251, 191, 36, 0.05)); border: 1px solid rgba(251, 191, 36, 0.3);">
            <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; color: #fbbf24;">üí° Business Implications</h3>
            <p style="font-size: 1rem; line-height: 1.8; color: var(--text-primary);">
                These findings suggest unconscious bias in role assignment and opportunity distribution. Teams should be aware of how name perceptions may influence player evaluation, position assignment, and development opportunities. Correlations strengthen in Modern Offense era (2011+), suggesting increased reliance on cognitive shortcuts in faster-paced game.
            </p>
        </div>
    </section>

    <!-- View Full Findings -->
    <section style="margin-bottom: 4rem;">
        <div style="text-align: center; padding: 3rem; background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(59, 130, 246, 0.05)); border-radius: 12px;">
            <h3 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem;">View Complete Research Findings</h3>
            <p style="font-size: 1.05rem; color: var(--text-secondary); margin-bottom: 2rem; max-width: 700px; margin-left: auto; margin-right: auto;">
                Access the full research documentation with detailed statistical tables, hypothesis tests, 
                and comprehensive analysis across all positions and eras.
            </p>
            <a href="{{ url_for('nfl_findings') }}" class="btn-primary" style="padding: 1rem 2.5rem; font-size: 1.1rem;">
                View Full Research Findings ‚Üí
            </a>
        </div>
    </section>
</div>

<script>
// Load overview data
fetch('/api/nfl/overview')
    .then(res => res.json())
    .then(data => {
        document.getElementById('total-players').textContent = data.total_players || '0';
        const posCount = Object.keys(data.position_distribution || {}).length;
        document.getElementById('total-positions').textContent = posCount || '0';
        const eraCount = Object.keys(data.era_distribution || {}).length;
        document.getElementById('total-eras').textContent = eraCount || '0';
    })
    .catch(err => console.error('Error loading overview:', err));
</script>

{% endblock %}

